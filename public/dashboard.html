<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>示唆出しシステム - ダッシュボード</title>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 text-gray-900">
  <!-- Header -->
  <header class="bg-gradient-to-r from-slate-950 to-slate-900 px-6 h-20 flex items-center justify-between text-white">
    <div class="text-lg font-semibold tracking-tight">示唆出しシステム</div>
    <div class="flex items-center gap-4 text-sm">
      <span class="text-slate-200">オペレーター：山田 太郎</span>
      <button class="px-3 py-1 rounded-full border border-slate-400/70 text-xs hover:bg-white/10">
        設定
      </button>
      <button class="px-3 py-1 rounded-full bg-white text-slate-900 text-xs font-semibold hover:bg-slate-100">
        ログアウト
      </button>
    </div>
  </header>

  <div class="flex">
    <!-- Sidebar -->
    <aside class="w-60 bg-white shadow-md min-h-[calc(100vh-56px)] p-4 border-r border-gray-200">
      <div class="text-xs text-gray-500 font-semibold mb-2 uppercase">メニュー</div>
      <nav class="space-y-1 text-sm">
        <a href="./operator.html" class="block px-3 py-2 rounded-md hover:bg-gray-100">
          オペレーター画面
        </a>
        <a href="./knowledge.html" class="block px-3 py-2 rounded-md hover:bg-gray-100">
          ナレッジ管理
        </a>
        <a href="./dashboard.html" class="block px-3 py-2 rounded-md bg-blue-600 text-white font-medium">
          ダッシュボード
        </a>
      </nav>

      <div class="mt-6">
        <div class="text-xs text-gray-500 font-semibold mb-2 uppercase">最近のセッション</div>
        <div class="space-y-2 text-sm">
          <div class="border border-gray-200 rounded-md p-2 bg-gray-50">
            <div class="font-medium">E21-2024-001</div>
            <div class="text-xs text-green-600">通話中</div>
          </div>
          <div class="border border-gray-200 rounded-md p-2 bg-gray-50">
            <div class="font-medium">E21-2024-002</div>
            <div class="text-xs text-gray-500">待機</div>
          </div>
        </div>
      </div>
    </aside>

    <!-- Main -->
    <main class="flex-1 p-6 space-y-6">
      <!-- タイトル -->
      <section>
        <h1 class="text-2xl font-semibold mb-1">ダッシュボード</h1>
        <p class="text-sm text-gray-600">
          通話状況やAI示唆の利用状況、ナレッジ活用度合いを俯瞰できます。
        </p>
      </section>

      <!-- KPI カード -->
      <section class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4">
        <div class="bg-white border border-gray-200 rounded-xl p-4 flex flex-col justify-between">
          <div class="flex items-center justify-between mb-3">
            <div>
              <p class="text-xs text-gray-500 uppercase tracking-wide">本日処理済みセッション</p>
              <p class="text-2xl font-semibold mt-1">128<span class="text-base ml-1">セッション</span></p>
            </div>
            <span class="text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700">
              +12% vs 昨日
            </span>
          </div>
          <div class="h-2 w-full rounded-full bg-gray-100 overflow-hidden">
            <div class="h-full w-3/4 bg-gradient-to-r from-emerald-400 to-emerald-600"></div>
          </div>
        </div>

        <div class="bg-white border border-gray-200 rounded-xl p-4 flex flex-col justify-between">
          <div class="flex items-center justify-between mb-3">
            <div>
              <p class="text-xs text-gray-500 uppercase tracking-wide">AI示唆利用率</p>
              <p class="text-2xl font-semibold mt-1">76<span class="text-base ml-1">%</span></p>
            </div>
            <span class="text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700">
              目標 80% 以上
            </span>
          </div>
          <div class="h-2 w-full rounded-full bg-gray-100 overflow-hidden">
            <div class="h-full w-[76%] bg-gradient-to-r from-sky-400 to-blue-600"></div>
          </div>
        </div>

        <div class="bg-white border border-gray-200 rounded-xl p-4 flex flex-col justify-between">
          <div class="flex items-center justify-between mb-3">
            <div>
              <p class="text-xs text-gray-500 uppercase tracking-wide">ナレッジ参照件数</p>
              <p class="text-2xl font-semibold mt-1">482<span class="text-base ml-1">件</span></p>
            </div>
            <span class="text-xs px-2 py-1 rounded-full bg-indigo-50 text-indigo-700">
              +6% vs 先週
            </span>
          </div>
          <div class="flex items-end gap-1 h-16">
            <div class="flex-1 bg-indigo-100 rounded-t-md" style="height:40%"></div>
            <div class="flex-1 bg-indigo-200 rounded-t-md" style="height:60%"></div>
            <div class="flex-1 bg-indigo-300 rounded-t-md" style="height:80%"></div>
            <div class="flex-1 bg-indigo-400 rounded-t-md" style="height:55%"></div>
            <div class="flex-1 bg-indigo-500 rounded-t-md" style="height:70%"></div>
            <div class="flex-1 bg-indigo-300 rounded-t-md" style="height:65%"></div>
            <div class="flex-1 bg-indigo-200 rounded-t-md" style="height:50%"></div>
          </div>
        </div>

        <div class="bg-white border border-gray-200 rounded-xl p-4 flex flex-col justify-between">
          <div class="flex items-center justify-between mb-3">
            <div>
              <p class="text-xs text-gray-500 uppercase tracking-wide">平均対応時間</p>
              <p class="text-2xl font-semibold mt-1">7.4<span class="text-base ml-1">分</span></p>
            </div>
            <span class="text-xs px-2 py-1 rounded-full bg-amber-50 text-amber-700">
              目標 8.0 分以下
            </span>
          </div>
          <p class="text-xs text-gray-500 mt-1">
            AI示唆を利用したセッションでは平均 6.1 分 です。
          </p>
        </div>
      </section>

      <!-- 中段レイアウト -->
      <section class="grid grid-cols-1 xl:grid-cols-3 gap-6">
        <!-- 左：グラフエリア（2カラム分） -->
        <div class="xl:col-span-2 space-y-4">

        <!-- セッション状況（本日） -->
        <section class="bg-white border border-gray-200 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
            <h2 class="text-sm font-semibold text-gray-800">セッション状況（本日）</h2>
            <span class="text-xs text-gray-400">更新: 5分前</span>
            </div>

            <div class="flex-1 flex items-end justify-center">
            <div class="w-[70%] grid grid-cols-4 gap-4 text-xs">
                <!-- 完了 -->
                <div class="flex flex-col justify-end">
                <!-- ここに justify-center を追加 -->
                <div class="flex-1 flex items-end justify-center mb-1">
                    <div class="w-[30%] bg-blue-100 rounded-xl overflow-hidden">
                    <div class="h-32 bg-blue-500 rounded-xl"></div>
                    </div>
                </div>
                <div class="text-center text-gray-500 mb-0.5">完了</div>
                <div class="text-center text-sm font-semibold text-gray-800">96</div>
                </div>

                <!-- 通話中 -->
                <div class="flex flex-col justify-end">
                <div class="flex-1 flex items-end justify-center mb-1">
                    <div class="w-[30%] bg-indigo-100 rounded-xl overflow-hidden">
                    <div class="h-9 bg-indigo-500 rounded-xl"></div>
                    </div>
                </div>
                <div class="text-center text-gray-500 mb-0.5">通話中</div>
                <div class="text-center text-sm font-semibold text-gray-800">18</div>
                </div>

                <!-- 待機 -->
                <div class="flex flex-col justify-end">
                <div class="flex-1 flex items-end justify-center mb-1">
                    <div class="w-[30%] bg-amber-100 rounded-xl overflow-hidden">
                    <div class="h-5 bg-amber-400 rounded-xl"></div>
                    </div>
                </div>
                <div class="text-center text-gray-500 mb-0.5">待機</div>
                <div class="text-center text-sm font-semibold text-gray-800">9</div>
                </div>

                <!-- エスカレ -->
                <div class="flex flex-col justify-end">
                <div class="flex-1 flex items-end justify-center mb-1">
                    <div class="w-[30%] bg-rose-100 rounded-xl overflow-hidden">
                    <div class="h-3 bg-rose-400 rounded-xl"></div>
                    </div>
                </div>
                <div class="text-center text-gray-500 mb-0.5">エスカレ</div>
                <div class="text-center text-sm font-semibold text-gray-800">5</div>
                </div>
            </div>
            </div>
        </section>

          <!-- AI示唆カテゴリ別グラフ -->
          <div class="bg-white border border-gray-200 rounded-xl p-4">
            <div class="flex items-center justify-between mb-4">
              <h2 class="text-sm font-semibold">AI示唆カテゴリ別件数（今週）</h2>
              <span class="text-xs text-gray-500">合計 312 件</span>
            </div>
            <div class="flex-1 flex items-end justify-center">
            <div class="space-y-3 text-xs w-[80%]">
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-gray-600">エアコン</span>
                  <span class="text-gray-500">120件</span>
                </div>
                <div class="h-2 w-full rounded-full bg-gray-100 overflow-hidden">
                  <div class="h-full w-[60%] bg-gradient-to-r from-sky-400 to-blue-600"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-gray-600">給湯器</span>
                  <span class="text-gray-500">82件</span>
                </div>
                <div class="h-2 w-full rounded-full bg-gray-100 overflow-hidden">
                  <div class="h-full w-[40%] bg-gradient-to-r from-emerald-400 to-emerald-600"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-gray-600">通信・ネットワーク</span>
                  <span class="text-gray-500">63件</span>
                </div>
                <div class="h-2 w-full rounded-full bg-gray-100 overflow-hidden">
                  <div class="h-full w-[30%] bg-gradient-to-r from-amber-400 to-amber-500"></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between mb-1">
                  <span class="text-gray-600">その他</span>
                  <span class="text-gray-500">47件</span>
                </div>
                <div class="h-2 w-full rounded-full bg-gray-100 overflow-hidden">
                  <div class="h-full w-[24%] bg-gradient-to-r from-slate-400 to-slate-600"></div>
                </div>
              </div>
            </div>
            </div>
          </div>
        </div>

        <!-- 右：リスト／テーブル -->
        <div class="space-y-4">
          <!-- オペレーター稼働状況 -->
          <div class="bg-white border border-gray-200 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h2 class="text-sm font-semibold">オペレーター稼働状況</h2>
              <span class="text-xs text-gray-500">現在オンライン 12 名</span>
            </div>
            <ul class="divide-y divide-gray-100 text-sm">
              <li class="py-2 flex items-center justify-between">
                <div>
                  <p class="font-medium">山田 太郎</p>
                  <p class="text-xs text-gray-500">本日 18 セッション / 平均 6.2 分</p>
                </div>
                <span class="px-2 py-1 text-xs rounded-full bg-emerald-50 text-emerald-700">オンライン</span>
              </li>
              <li class="py-2 flex items-center justify-between">
                <div>
                  <p class="font-medium">佐藤 花子</p>
                  <p class="text-xs text-gray-500">本日 15 セッション / 平均 7.0 分</p>
                </div>
                <span class="px-2 py-1 text-xs rounded-full bg-emerald-50 text-emerald-700">オンライン</span>
              </li>
              <li class="py-2 flex items-center justify-between">
                <div>
                  <p class="font-medium">鈴木 一郎</p>
                  <p class="text-xs text-gray-500">本日 10 セッション / 平均 8.1 分</p>
                </div>
                <span class="px-2 py-1 text-xs rounded-full bg-amber-50 text-amber-700">後処理中</span>
              </li>
              <li class="py-2 flex items-center justify-between">
                <div>
                  <p class="font-medium">田中 真央</p>
                  <p class="text-xs text-gray-500">本日 7 セッション / 平均 6.8 分</p>
                </div>
                <span class="px-2 py-1 text-xs rounded-full bg-gray-50 text-gray-600">休憩中</span>
              </li>
            </ul>
          </div>

          <!-- 最近のエスカレーション -->
          <div class="bg-white border border-gray-200 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h2 class="text-sm font-semibold">最近のエスカレーション</h2>
              <a href="#" class="text-xs text-blue-600 hover:underline">すべて表示</a>
            </div>
            <ul class="space-y-2 text-xs">
              <li class="flex items-center justify-between">
                <div>
                  <p class="font-medium text-gray-800">AC-ERR-03: 赤点滅3回</p>
                  <p class="text-[11px] text-gray-500">原因特定に時間を要したため、2次対応チームへ連携</p>
                </div>
                <span class="ml-2 px-2 py-1 rounded-full bg-rose-50 text-rose-700">対応中</span>
              </li>
              <li class="flex items-center justify-between">
                <div>
                  <p class="font-medium text-gray-800">NET-012: ルーター再起動後も復旧せず</p>
                  <p class="text-[11px] text-gray-500">現地訪問手配済み（明日午前）</p>
                </div>
                <span class="ml-2 px-2 py-1 rounded-full bg-amber-50 text-amber-700">要注意</span>
              </li>
              <li class="flex items-center justify-between">
                <div>
                  <p class="font-medium text-gray-800">HV-021: 室外機から異音</p>
                  <p class="text-[11px] text-gray-500">一次対応フロー通り案内済み・クローズ予定</p>
                </div>
                <span class="ml-2 px-2 py-1 rounded-full bg-emerald-50 text-emerald-700">完了見込み</span>
              </li>
            </ul>
          </div>
        </div>
      </section>
      
      <!-- 下段グラフエリア：時間推移の折れ線グラフ ＋ 円グラフ -->
       <!-- 下段：時間推移＆円グラフ -->
        <section class="mt-6 grid grid-cols-1 xl:grid-cols-3 gap-6">
        <!-- 左：時間推移折れ線グラフ（2カラム分） -->
        <div class="bg-white border border-gray-200 rounded-xl p-4 xl:col-span-2">
            <div class="flex items-center justify-between mb-3">
            <div>
                <h2 class="text-sm font-semibold text-gray-800">時間帯別セッション数（本日）</h2>
                <p class="text-xs text-gray-500">1時間ごとのセッション数の推移を表示します。</p>
            </div>
            <span class="text-xs text-gray-400">00:00–23:59</span>
            </div>

        <div class="mt-2 h-56">
          <svg viewBox="0 0 800 180" class="w-full h-full">
            <!-- グリッドライン -->
            <g stroke="#E5E7EB" stroke-width="1">
              <line x1="40" y1="30"  x2="760" y2="30" />
              <line x1="40" y1="60"  x2="760" y2="60" />
              <line x1="40" y1="90"  x2="760" y2="90" />
              <line x1="40" y1="120" x2="760" y2="120" />
              <line x1="40" y1="150" x2="760" y2="150" />
            </g>

            <!-- Y軸 -->
            <g stroke="#9CA3AF" stroke-width="1">
              <line x1="40" y1="20" x2="40" y2="155" />
            </g>

            <!-- Y軸ラベル -->
            <g fill="#9CA3AF" font-size="10">
              <text x="30" y="153" text-anchor="end">0</text>
              <text x="30" y="123" text-anchor="end">20</text>
              <text x="30" y="93"  text-anchor="end">40</text>
              <text x="30" y="63"  text-anchor="end">60</text>
              <text x="30" y="33"  text-anchor="end">80</text>
            </g>

            <!-- X軸ラベル（24時間表示・左右いっぱい） -->
            <g fill="#9CA3AF" font-size="10">
              <text x="40"  y="170" text-anchor="middle">0時</text>
              <text x="100"  y="170" text-anchor="middle">2時</text>
              <text x="160" y="170" text-anchor="middle">4時</text>
              <text x="220"  y="170" text-anchor="middle">6時</text>
              <text x="280" y="170" text-anchor="middle">8時</text>
              <text x="340"  y="170" text-anchor="middle">10時</text>
              <text x="400" y="170" text-anchor="middle">12時</text>
              <text x="460"  y="170" text-anchor="middle">14時</text>
              <text x="520" y="170" text-anchor="middle">16時</text>
              <text x="580"  y="170" text-anchor="middle">18時</text>
              <text x="640" y="170" text-anchor="middle">20時</text>
              <text x="700"  y="170" text-anchor="middle">22時</text>
              <text x="760"  y="170" text-anchor="middle">24時</text>
            </g>

            <!-- 面グラフの塗り -->
            <defs>
              <linearGradient id="lineArea" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#60A5FA" stop-opacity="0.35" />
                <stop offset="100%" stop-color="#93C5FD" stop-opacity="0" />
              </linearGradient>
            </defs>

            <!-- データ（ダミー）: 13点で 0〜24時をカバー -->
            <!-- ポイント: (40,140) (100,125) (160,110) (220,95) (280,90) (340,80) 
             (400,65) (460,60) (520,70) (580,85) (640,110) (700,120) (760,130)-->
            <path
              d="M40,150
                 L40,140 L100,125 L160,110 L220,95 L280,90 L340,80 L400,65
                 L460,60 L520,70 L580,85 L640,110 L700,120 L760,130 
                 L760,150 L40,150 Z"
              fill="url(#lineArea)"
            />

            <!-- 折れ線 -->
            <polyline
              fill="none"
              stroke="#2563EB"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              points="
                40,140
                100,125
                160,110
                220,95
                280,90
                340,80
                400,65
                460,60
                520,70
                580,85
                640,110
                700,120
                760,130 
              "
            />

            <!-- データポイント -->
            <g fill="#2563EB" stroke="#EFF6FF" stroke-width="2">
              <circle cx="40"  cy="140" r="4" />
              <circle cx="100" cy="125" r="4" />
              <circle cx="160" cy="110" r="4" />
              <circle cx="220" cy="95"  r="4" />
              <circle cx="280" cy="90" r="4" />
              <circle cx="340" cy="80" r="4" />
              <circle cx="400" cy="65" r="4" />
              <circle cx="460" cy="60" r="4" />
              <circle cx="520" cy="70" r="4" />
              <circle cx="580" cy="85" r="4" />
              <circle cx="640" cy="110" r="4" />
              <circle cx="700" cy="120" r="4" />
              <circle cx="760" cy="130" r="4" />
            </g>
          </svg>
        </div>
        </div>

        <!-- 右：円グラフ -->
        <div class="bg-white border border-gray-200 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
            <div>
                <h2 class="text-sm font-semibold text-gray-800">問い合わせ種別の構成比（本日）</h2>
                <p class="text-xs text-gray-500">カテゴリ別のセッション割合を表示します。</p>
            </div>
            <span class="text-xs text-gray-400">合計 128件</span>
            </div>

            <div class="mt-2 flex items-center gap-6">
            <!-- 円グラフ（ダミー） -->
            <div class="relative w-56 h-56">
                <svg viewBox="0 0 120 120" class="w-full h-full">
                <circle cx="60" cy="60" r="50" fill="#EEF2FF" />
                <!-- 緑 25% -->
                <path d="M60 10 A50 50 0 0 1 109 60 L60 60 Z" fill="#34D399" />
                <!-- 青 32% -->
                <path d="M109 60 A50 50 0 0 1 30 104 L60 60 Z" fill="#60A5FA" />
                <!-- オレンジ 23% -->
                <path d="M30 104 A50 50 0 0 1 14 40 L60 60 Z" fill="#FDBA74" />
                <!-- グレー 20% -->
                <path d="M14 40 A50 50 0 0 1 60 10 L60 60 Z" fill="#9CA3AF" />
                </svg>
            </div>

            <!-- 凡例 -->
            <div class="flex-1 space-y-2 text-xs">
                <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 rounded-full bg-emerald-400"></span>
                    <span class="text-gray-700">機器トラブル</span>
                </div>
                <span class="text-gray-500">25%</span>
                </div>
                <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 rounded-full bg-blue-400"></span>
                    <span class="text-gray-700">操作方法</span>
                </div>
                <span class="text-gray-500">32%</span>
                </div>
                <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 rounded-full bg-amber-400"></span>
                    <span class="text-gray-700">契約・料金</span>
                </div>
                <span class="text-gray-500">23%</span>
                </div>
                <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <span class="w-3 h-3 rounded-full bg-gray-400"></span>
                    <span class="text-gray-700">その他</span>
                </div>
                <span class="text-gray-500">20%</span>
                </div>
            </div>
            </div>
        </div>
        </section>

    </main>
  </div>
</body>
</html>
